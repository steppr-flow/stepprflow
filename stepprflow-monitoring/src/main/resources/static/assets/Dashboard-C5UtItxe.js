import{u as g,o as x,a as h,b as s,c as o,d as t,e as l,f as d,g as u,F as v,r as _,h as f,i as y,j as b,w as k,t as n}from"./index-joplyjTx.js";import{_ as c}from"./StatsCard-DJ-2egOf.js";import{_ as w}from"./StatusBadge-Cuy5KiUG.js";const M={class:"space-y-6"},N={class:"grid grid-cols-3 gap-4 xl:grid-cols-6"},C={class:"grid gap-6 lg:grid-cols-2"},z={class:"card"},A={key:0,class:"text-sm text-gray-400"},I={class:"space-y-2"},S={class:"min-w-0"},B={class:"truncate text-sm font-medium text-gray-900"},E={class:"truncate text-xs text-gray-500 font-mono"},V={class:"flex items-center gap-3 shrink-0"},j={key:0,class:"text-xs text-gray-400"},D={class:"card"},F={key:0,class:"text-sm text-gray-400"},L={class:"space-y-2"},$={class:"min-w-0"},O={class:"truncate text-sm font-medium text-gray-900"},R={class:"text-xs text-gray-500"},W={class:"flex items-center gap-2 text-xs text-gray-400"},G={__name:"Dashboard",setup(H){const a=g(),r=f(()=>a.stats||{});let m;return x(()=>{a.fetchOverview(),m=setInterval(()=>a.fetchOverview(),5e3)}),h(()=>{clearInterval(m)}),(P,i)=>{const p=y("router-link");return s(),o("div",M,[i[2]||(i[2]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Dashboard",-1)),t("div",N,[l(c,{label:"Total",value:r.value.total??0,icon:"M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5",variant:"default"},null,8,["value"]),l(c,{label:"Active",value:r.value.active??0,icon:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z",variant:"primary"},null,8,["value"]),l(c,{label:"Completed",value:r.value.completed??0,icon:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z",variant:"success"},null,8,["value"]),l(c,{label:"Failed",value:r.value.failed??0,icon:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z",variant:"danger"},null,8,["value"]),l(c,{label:"Pending",value:r.value.pending??0,icon:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z",variant:"warning"},null,8,["value"]),l(c,{label:"Cancelled",value:r.value.cancelled??0,icon:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636",variant:"info"},null,8,["value"])]),t("div",C,[t("div",z,[i[0]||(i[0]=t("h2",{class:"mb-4 text-sm font-semibold text-gray-900"},"Recent Executions",-1)),d(a).recentExecutions.length===0?(s(),o("div",A,"No recent executions")):u("",!0),t("div",I,[(s(!0),o(v,null,_(d(a).recentExecutions,e=>(s(),b(p,{key:e.executionId,to:`/executions/${e.executionId}`,class:"flex items-center justify-between rounded-lg border border-gray-100 p-3 transition-colors hover:bg-gray-50"},{default:k(()=>[t("div",S,[t("p",B,n(e.topic),1),t("p",E,n(e.executionId),1)]),t("div",V,[e.currentStep!=null?(s(),o("span",j,n(e.currentStep)+"/"+n(e.totalSteps),1)):u("",!0),l(w,{status:e.status},null,8,["status"])])]),_:2},1032,["to"]))),128))])]),t("div",D,[i[1]||(i[1]=t("h2",{class:"mb-4 text-sm font-semibold text-gray-900"},"Registered Workflows",-1)),d(a).workflows.length===0?(s(),o("div",F,"No workflows registered")):u("",!0),t("div",L,[(s(!0),o(v,null,_(d(a).workflows,e=>(s(),o("div",{key:e.topic+e.serviceName,class:"flex items-center justify-between rounded-lg border border-gray-100 p-3"},[t("div",$,[t("p",O,n(e.topic),1),t("p",R,n(e.serviceName),1)]),t("div",W,[t("span",null,n(e.stepCount??"?")+" steps",1)])]))),128))])])])])}}};export{G as default};
