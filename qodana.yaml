#-------------------------------------------------------------------------------#
#               Qodana analysis is configured by qodana.yaml file               #
#             https://www.jetbrains.com/help/qodana/qodana-yaml.html            #
#-------------------------------------------------------------------------------#

#################################################################################
#              WARNING: Do not store sensitive information in this file,        #
#               as its contents will be included in the Qodana report.          #
#################################################################################
version: "1.0"

#Specify inspection profile for code analysis
profile:
  name: qodana.starter

#Enable inspections
#include:
#  - name: <SomeEnabledInspectionId>

# Disable inspections for specific paths or globally
exclude:
  # Exclude generated code and sample applications from strict analysis
  - name: All
    paths:
      - "**/target/**"
      - "**/node_modules/**"
      - "**/.flattened-pom.xml"
  # Exclude specific inspections that create noise
  - name: MissedJavadoc
    paths:
      - "**/test/**"
  - name: JavadocDeclaration
    paths:
      - "**/test/**"
  # Lombok-generated code warnings
  - name: LombokGetterMayBeUsed
  - name: LombokSetterMayBeUsed

projectJDK: "21" #(Applied in CI/CD pipeline)

#Execute shell command before Qodana execution (Applied in CI/CD pipeline)
#bootstrap: sh ./prepare-qodana.sh

#Install IDE plugins before Qodana execution (Applied in CI/CD pipeline)
#plugins:
#  - id: <plugin.id> #(plugin id can be found at https://plugins.jetbrains.com)

# Quality gate. Will fail the CI/CD pipeline if any condition is not met
# severityThresholds - configures maximum thresholds for different problem severities
# testCoverageThresholds - configures minimum code coverage on a whole project and newly added code
failureConditions:
  severityThresholds:
    # Maximum number of problems allowed by severity
    any: 100        # Total problems threshold (start high, reduce over time)
    critical: 0     # No critical issues allowed
    high: 10        # Few high-severity issues allowed
    moderate: 50    # Moderate issues threshold
    low: 100        # Low severity threshold
  # Note: testCoverageThresholds requires Ultimate/Ultimate Plus plan
  # testCoverageThresholds:
  #   fresh: 70     # New code must have 70% coverage
  #   total: 50     # Overall project coverage
  
#Qodana supports other languages, for example, Python, JavaScript, TypeScript, Go, C#, PHP
#For all supported languages see https://www.jetbrains.com/help/qodana/linters.html
linter: jetbrains/qodana-jvm-community:2025.2
